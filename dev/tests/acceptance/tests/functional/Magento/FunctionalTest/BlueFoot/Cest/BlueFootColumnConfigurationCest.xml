<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Test/etc/testSchema.xsd">
    <cest name="BlueFootColumnConfigurationCest">
        <annotations>
            <features value="BlueFoot CMS"/>
            <stories value="Bluefoot Column Configuration"/>
            <group value="bluefoot"/>
            <env value="chrome"/>
            <env value="firefox"/>
            <env value="phantomjs"/>
        </annotations>
        <before>
            <actionGroup ref="navigateToAPageWithBlueFoot" mergeKey="navigateToAPageWithBlueFoot"/>
            <actionGroup ref="switchToBlueFootStage" mergeKey="switchToBlueFootStage"/>
            <!--<actionGroup ref="addBlueFootRowToStage" mergeKey="addFirstRow"/>-->
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
        </before>
        <test name="SlideOutPanelWithSettingsContainRequiredFields">
            <annotations>
                <title value="Displays requires column settings"/>
                <description value="Slide out panel with required settings appear"/>
                <severity value="CRITICAL"/>
                <testCaseId value="MAGETWO-82227"/>
            </annotations>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <actionGroup ref="validateColumnPanelFields" mergeKey="validateColumnPanelFields"/>
        </test>
        <test name="ColumnSettingsAppearOnFrontend">
            <annotations>
                <title value="Column settings appear on frontend"/>
                <description value="Validate selected column settings appear on the frontend"/>
                <severity value="CRITICAL"/>
                <testCaseId value=""/>
            </annotations>
            <fillField selector="//*[@name='title']" userInput="test-cms-page" mergeKey="enterPageTitle"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <fillField selector="//*[@name='min_height']" userInput="100" mergeKey="enterMinHeight"/>
            <fillField selector="//*[@name='background_color']" userInput="#ccc" mergeKey="enterBackgroundColor"/>
            <!--<fillField selector="//*[@name='background_position']" userInput="Centered" mergeKey="enterBackgroundPosition"/>
            <fillField selector="//*[@name='background_size']" userInput="Cover" mergeKey="enterBackgroundSize"/>
            <fillField selector="//*[@name='background_repeat']" userInput="Yes" mergeKey="enterBackgroundRepeat"/>
            <fillField selector="//*[@name='background_attachment']" userInput="Repeat" mergeKey="enterBackgroundAttachment"/>-->
            <click selector="//header[contains(@class, 'modal-header')]/div[1]/div[1]/button[@id='save']" mergeKey="clickSaveColumn"/>
            <click selector="//div[contains(@class, 'page-actions-buttons')][1]/button[@id='save']" mergeKey="clickSaveCmsPage"/>
            <amOnPage url="test-cms-page" mergeKey="amOnBlueFootPage"/>
        </test>
    </cest>
</config>
