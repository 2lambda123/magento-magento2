<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->

<div class="pagebuilder-content-type pagebuilder-slider children-min-height" attr="data.main.attributes" data-bind="afterRender: onAfterRender, event: { mouseover: onMouseOver, mouseout: onMouseOut }, mouseoverBubble: false">
    <render args="getOptions().template" />
    <div class="slider-container" css="data.main.css" ko-style="data.main.style" data-bind="afterRender: function(){console.log(this);}">
        <render args="previewChildTemplate" />
    </div>
    <div class="slider-controls focus-options">
        <div if="$parent.children().length > 0"
             class="slider-navigation"
             each="$parent.getChildren()"
             data-bind="previewSortable: {handle: '.navigation-dot-anchor', containment: 'parent', placeholder: 'navigation-dot sortable-placeholder', tolerance: 'pointer', start: function () { onSortStart.apply($parent.preview, arguments); }, stop: function () { onSortStop.apply($parent.preview, arguments); } }">
            <div class="navigation-dot" attr="{id: 'navigation-' + parent.id, tabindex: $index}" css="{active: $parent.activeSlide() === $index()}" data-bind="hasFocusNoScroll: $parent.focusedSlide() === $index(), event: { focusin: function () { $parent.setFocusedSlide($index()) }, focusout: function () { $parent.setFocusedSlide(null) } }">
                <with args="preview">
                    <render with="preview" args="getOptions().template" />
                </with>
                <a class="navigation-dot-anchor" href="#" data-bind="click: function () { $parent.navigateToSlide($index()); $parent.setFocusedSlide($index()); }"></a>
                <span if="preview.previewData.slide_name() !== ''"
                      class="tooltip-content"
                      role="tooltip"
                      data-bind="text: preview.previewData.slide_name()"/>
            </div>
        </div>
    </div>
</div>
