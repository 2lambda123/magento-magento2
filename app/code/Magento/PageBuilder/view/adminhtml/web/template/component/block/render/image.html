<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->

<figure attr="data.main.attributes" ko-style="data.main.style" css="data.main.css">
    <if args="data.link.attributes().href">
        <a attr="data.link.attributes" ko-style="data.link.style" css="data.link.css">
            <if args="data.desktop_image.attributes().src">
                <img attr="data.desktop_image.attributes"
                     class="pagebuilder-mobile-hidden"
                     css="data.desktop_image.css"
                     ko-style="data.desktop_image.style" />
            </if>
            <if args="data.mobile_image.attributes().src">
                <img attr="data.mobile_image.attributes"
                     class="pagebuilder-mobile-only"
                     css="data.mobile_image.css"
                     ko-style="data.mobile_image.style" />
            </if>
        </a>
    </if>

    <ifnot args="data.link.attributes().href">
        <if args="data.desktop_image.attributes().src">
            <img attr="data.desktop_image.attributes"
                 class="pagebuilder-mobile-hidden"
                 css="data.desktop_image.css"
                 ko-style="data.desktop_image.style" />
        </if>
        <if args="data.mobile_image.attributes().src">
            <img attr="data.mobile_image.attributes"
                 class="pagebuilder-mobile-only"
                 css="data.mobile_image.css"
                 ko-style="data.mobile_image.style" />
        </if>
    </ifnot>

    <if args="data.caption.html()">
        <figcaption attr="data.caption.attributes"
                    css="data.caption.css"
                    ko-style="data.caption.style"
                    text="data.caption.html">
        </figcaption>
    </if>
</figure>
