<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->

<figure data-bind="attr: getAttributes('main'), style: getStyle('main'), css: getCss('main')">
    <!-- ko if: getAttributes('link').href -->
        <a data-bind="attr: getAttributes('link')">
            <!-- ko if: getData('desktop_image').image.length -->
                <img data-bind="attr: getAttributes('desktop_image'), css: {'pagebuilder-mobile-hidden': getData().mobile_image.length}, style: { maxWidth: '100%', height: 'auto' }" />
            <!-- /ko -->
            <!-- ko if: getData('mobile_image').mobile_image.length -->
                <img data-bind="attr: getAttributes('mobile_image'), style: { maxWidth: '100%', height: 'auto' }" class="pagebuilder-mobile-only" />
            <!-- /ko -->
        </a>
    <!-- /ko -->
    <!-- ko ifnot: getAttributes('link').href -->
        <!-- ko if: getData('desktop_image').image.length -->
            <img data-bind="attr: getAttributes('desktop_image'), css: {'pagebuilder-mobile-hidden': getData('mobile_image').mobile_image.length}, style: { maxWidth: '100%', height: 'auto' }" />
        <!-- /ko -->
        <!-- ko if: getData('mobile_image').mobile_image.length -->
            <img data-bind="attr: getAttributes('mobile_image'), style: { maxWidth: '100%', height: 'auto' }" class="pagebuilder-mobile-only" />
        <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: getData('caption').image_caption -->
        <figcaption data-bind="text: getHtml('caption')"></figcaption>
    <!-- /ko -->
</figure>
